/* static/diet_calendar/css/calendar.css */

/* =========================================
   1. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å…¨ä½“è¨­å®š
   ========================================= */

.calendar-page-container {
    width: 100%;
    /* â˜…ä¿®æ­£: é«˜ã•ã‚’å›ºå®šã›ãšã€æœ€ä½é™ã®é«˜ã•ã‚’æŒ‡å®šã—ã¦ä¼¸ã³ã‚‹ã‚ˆã†ã«ã™ã‚‹ */
    height: auto; 
    min-height: calc(100vh - 120px);
    
    /* ä¸‹ç«¯ãŒã‚®ãƒªã‚®ãƒªã«ãªã‚‰ãªã„ã‚ˆã†ä½™ç™½ã‚’è¿½åŠ  */
    padding-bottom: 40px; 
    
    /* ã‚³ãƒ³ãƒ†ãƒŠå†…ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ã¯ãªãã€ãƒšãƒ¼ã‚¸å…¨ä½“ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»ã›ã‚‹ */
    overflow: visible; 
}

.calendar-wrapper {
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.06);
    border: 1px solid rgba(0,0,0,0.02);
    width: 100%;
    
    /* â˜…ä¿®æ­£: è¦ªã«åˆã‚ã›ã¦ä¼¸ã³ã‚‹è¨­å®šã€‚å›ºå®šã—ãªã„ */
    height: auto; 
    /* ãƒ†ãƒ¼ãƒ–ãƒ«ã®å‡ç­‰é…ç½®ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã«æœ€ä½é«˜ã•ã‚’ç¢ºä¿ */
    min-height: calc(100vh - 160px); 
    
    /* â˜…é‡è¦: ã¯ã¿å‡ºã—ã‚’éš ã•ãªã„ï¼ˆå½±ã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ‡ã‚‰ãªã„ï¼‰ */
    overflow: visible; 
    
    font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', sans-serif;
    display: flex;
    flex-direction: column;
}

.calendar-table {
    width: 100%;
    /* ãƒ©ãƒƒãƒ‘ãƒ¼ã®é«˜ã•ã«åˆã‚ã›ã¦åºƒã’ã‚‹ï¼ˆmin-heightãŒåŠ¹ãï¼‰ */
    height: 100%; 
    table-layout: fixed;
    border-collapse: collapse;
    
    /* ãƒ†ãƒ¼ãƒ–ãƒ«è‡ªä½“ã‚‚ä¼¸ã³ã‚‹ã‚ˆã†ã« */
    flex-grow: 1;
}

/* æ›œæ—¥ãƒ˜ãƒƒãƒ€ãƒ¼ */
.calendar-table th {
    text-align: center;
    padding: 8px 0;
    background-color: #ffffff;
    color: #b0b8c1;
    font-size: 0.85rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    border-bottom: 2px solid #f5f7fa;
    height: 40px;
}
.calendar-table th.sun { color: #ff6b6b; }
.calendar-table th.sat { color: #4dabf7; }

/* ã‚»ãƒ«ï¼ˆtdï¼‰ */
.calendar-table td {
    vertical-align: top;
    border-right: 1px solid #f8f9fa;
    border-bottom: 1px solid #f8f9fa;
    padding: 0;
    /* é‡è¦: ã“ã®è¨­å®šã«ã‚ˆã‚Šã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®é«˜ã•(min-height)ã‚’
       å„è¡ŒãŒå‡ç­‰ã«åˆ†ã‘åˆã†æŒ™å‹•ã«ãªã‚Šã¾ã™ã€‚
       ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¢—ãˆã¦ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä¼¸ã³ã‚Œã°ã€è¡Œã‚‚å‡ç­‰ã«ä¼¸ã³ã¾ã™ã€‚
    */
    height: 1px; 
    transition: background-color 0.2s ease;
}
.calendar-table td:hover { background-color: #fafbfc; }
.calendar-table td.today {
    background-color: #fff8f8;
    box-shadow: inset 0 0 0 2px #ff6b6b;
    position: relative;
    z-index: 1;
}
.calendar-table .noday { background-color: #fcfcfc; }


/* =========================================
   2. ã‚»ãƒ«å†…éƒ¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆJSç”Ÿæˆè¦ç´ ï¼‰
   ========================================= */

.cell-inner-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center; 
    width: 100%;
    
    /* è¦ª(td)ã®é«˜ã•ã«è¿½å¾“ */
    height: 100%; 
    min-height: 0;
    
    padding: 4px;
    gap: 2px;
    justify-content: flex-start;
    
    /* åŸºæœ¬ã¯éš ã™ãŒã€WrapperãŒä¼¸ã³ã‚‹ã®ã§å•é¡Œãªã„ */
    overflow: hidden; 
}

/* 1. æ—¥ä»˜ */
.date-number {
    font-weight: 700;
    font-size: 1.1rem;
    color: #4a5568;
    margin-bottom: 2px;
    padding-left: 4px;
    align-self: flex-start;
    line-height: 1.2;
}
.calendar-table .sun .date-number { color: #ff6b6b; }
.calendar-table .sat .date-number { color: #4dabf7; }

/* 2. ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ */
.condition-icons {
    display: flex;
    justify-content: center;
    gap: 2px; 
    font-size: 0.85rem;
    line-height: 1;
    min-height: 16px;
    margin-bottom: 2px;
    filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1));
    flex-shrink: 0;
}
.condition-icons > * { margin: 0 !important; }

/* 3. ãƒãƒƒã‚¸ãƒ»ã‚¸ãƒ¥ã‚¨ãƒ«ã‚¨ãƒªã‚¢ */
.calendar-content {
    display: flex;
    flex-direction: column; /* PCã¯ç¸¦ä¸¦ã³ */
    align-items: center;
    justify-content: center;
    gap: 4px;
    width: 100%;
    margin-top: 2px;
    flex-shrink: 0;
    
    /* PCã§ã®é«˜ã•ã‚’ç¢ºä¿ï¼ˆé€±ã®é«˜ã•ã‚’æƒãˆã‚‹ãŸã‚ï¼‰ */
    min-height: 56px; 
}
.calendar-content a { text-decoration: none; color: inherit; }

.calendar-content div {
    text-align: center !important;
    width: 100% !important; 
    margin: 0 !important;
    display: block;
    color: #f1c40f; 
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.calendar-content .badge {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    
    /* PCã§ã®ã‚µã‚¤ã‚º */
    min-height: 24px; 
    padding: 2px 10px !important;
    border-radius: 99px !important; 
    
    box-shadow: 0 4px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.4);
    backdrop-filter: blur(4px);
    vertical-align: middle;
    font-weight: 600;
    font-size: 0.75rem;
    
    margin: 2px 0 !important;
}

.calendar-content .bg-success {
    background: linear-gradient(135deg, #42e695 0%, #3bb2b8 100%) !important;
    border: none !important;
    color: #fff !important;
}
.calendar-content .bg-warning {
    background: linear-gradient(135deg, #f09819 0%, #edde5d 100%) !important;
    border: none !important;
    color: #fff !important; 
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}


/* 4. ä½“é‡ãƒ»ä½“è„‚è‚ªç‡ */
.weight-text, .fat-text {
    font-size: 0.75rem;
    font-weight: 700;
    color: #718096;
    line-height: 1.2;
    white-space: nowrap;
    margin-top: auto; 
}
.weight-text { color: #2d3748; } 
.fat-text { color: #a0aec0; margin-top: 0; }

.weight-text::after { content: 'kg'; font-size: 0.75em; color: #cbd5e0; margin-left: 1px; font-weight: normal; }
.fat-text::after { content: '%'; font-size: 0.75em; margin-left: 1px; font-weight: normal; }


/* =========================================
   3. ã‚¹ãƒãƒ›ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”¨ãƒ‡ã‚¶ã‚¤ãƒ³ (991pxä»¥ä¸‹)
   ========================================= */

@media (max-width: 991px) {
    .calendar-wrapper {
        border-radius: 0;
        box-shadow: none;
        /* ã‚¹ãƒãƒ›ã§ã‚‚æœ€ä½é™ã®é«˜ã•ã‚’ç¢ºä¿ã—ã¤ã¤ä¼¸ã³ã‚‹ã‚ˆã†ã« */
        min-height: calc(100vh - 160px);
    }
    
    .cell-inner-wrapper {
        padding: 4px;
        gap: 2px;
        border-bottom: 1px solid #f8f9fa;
    }
    
    /* æ—¥ä»˜ */
    .date-number { font-size: 1.0rem; }
    
    /* ãƒãƒƒã‚¸ã‚¨ãƒªã‚¢ï¼ˆæ¨ªä¸¦ã³ï¼‰ */
    .calendar-content {
        flex-direction: row !important; 
        align-items: center !important;
        gap: 4px !important;
        min-height: 30px; 
    }

    .calendar-content div { width: auto !important; }

    /* ãƒãƒƒã‚¸ã®å®Œå…¨ã‚¢ã‚¤ã‚³ãƒ³åŒ– */
    .calendar-content .badge,
    .calendar-content a.badge,
    .calendar-content span.badge {
        font-size: 0 !important;
        color: transparent !important;
        text-indent: 0 !important;
        
        width: 24px !important;
        height: 24px !important;
        min-height: 24px !important; 
        
        border-radius: 50% !important;
        padding: 0 !important;
        border: 2px solid #fff !important;
        box-shadow: 0 3px 6px rgba(0,0,0,0.15), inset 0 -2px 4px rgba(0,0,0,0.1);
        
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        margin: 0 !important;
    }
    
    .calendar-content .badge::before {
        font-size: 14px; 
        color: #fff; 
        display: block; 
        line-height: 1;
        text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }
    
    .calendar-content .bg-success::before { content: 'ğŸ“'; }
    .calendar-content .bg-warning::before { content: 'ğŸ‘‘'; }
}

/* =========================================
   4. ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆå¤‰æ›´ãªã—ï¼‰
   ========================================= */
#recordDetailModal .modal-content {
    border-radius: 24px;
    border: none;
    box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    background: #ffffff;
    overflow: hidden;
}
#recordDetailModal .modal-header {
    background: #ffffff;
    border-bottom: 1px solid #f0f0f0;
    padding: 16px 24px;
}
#recordDetailModal .modal-title {
    color: #2d3748;
    font-weight: 800;
    font-size: 1.1rem;
    letter-spacing: 0.05em;
    display: flex;
    align-items: center;
    gap: 8px;
}
#recordDetailModal .modal-title::before {
    content: '';
    display: block;
    width: 6px;
    height: 24px;
    background: #ff6b6b;
    border-radius: 4px;
}
#recordDetailModal .btn-close {
    background-color: #f7fafc;
    border-radius: 50%;
    padding: 10px;
    transition: all 0.2s;
    opacity: 1;
}
#recordDetailModal .btn-close:hover {
    background-color: #edf2f7;
    transform: rotate(90deg);
}
#recordDetailModal .modal-body {
    padding: 0;
}

#recordDetailModal a.btn:not(.btn-close) {
    background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%) !important;
    border: none !important;
    color: white !important;
    border-radius: 50px !important;
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
}